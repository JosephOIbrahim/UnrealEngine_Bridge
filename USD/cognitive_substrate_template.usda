#usda 1.0
(
    defaultPrim = "CognitiveSubstrate"
    doc = """USD Cognitive Substrate Template

    Generated by: The Translators Bridge
    Purpose: Cognitive profile for AI-assisted interactions

    LIVRPS Composition (Priority highest to lowest):
    L - Local (session state)
    I - Inherits (parent context)
    V - VariantSets (mode switching)
    R - References (calibration data)
    P - Payloads (domain knowledge)
    S - Specializes (base profile - this file)

    The game writes answers → this file updates → UE5 reads cognitive state.
    """
    metersPerUnit = 1
    upAxis = "Y"
)

def Xform "CognitiveSubstrate" (
    kind = "component"
    customData = {
        string generator = "UEBridge"
        string version = "1.0.0"
        string checksum = "00000000"
        string generated = "2026-01-19T00:00:00"
    }
)
{
    # === PROFILE LAYER ===
    # Core cognitive dimensions (0.0 - 1.0)
    # These values drive UE5 game behavior

    def Xform "Profile" (
        doc = "Cognitive profile dimensions derived from questionnaire"
    )
    {
        # How much information can be held at once
        # Low (0.2) = one thing at a time
        # High (0.8) = handles complexity well
        float cognitive_density = 0.5

        # Preferred abstraction level
        # Low (0.2) = ground level, details first
        # High (0.8) = big picture, why before how
        float home_altitude = 0.5

        # How often guidance/check-ins are wanted
        # Low (0.2) = autonomous, long leash
        # High (0.8) = frequent check-ins
        float guidance_frequency = 0.5

        # Problem-solving approach
        # Low (0.2) = deep focus, narrow down
        # High (0.8) = wide exploration, connections
        float default_paradigm = 0.5

        # How feedback should be delivered
        # Low (0.2) = direct and blunt
        # High (0.8) = gentle, wrapped in context
        float feedback_style = 0.5

        # Tolerance for ambiguity
        # Low (0.2) = needs certainty
        # High (0.8) = comfortable with fog
        float uncertainty_tolerance = 0.5

        # Communication pace preference
        # Low (0.2) = fill silence, active
        # High (0.8) = comfortable with pauses
        float processing_pace = 0.5

        # Attitude toward tangents
        # Low (0.2) = stay focused, distraction
        # High (0.9) = tangents are discovery
        float tangent_tolerance = 0.5
    }

    # === SESSION LAYER ===
    # Runtime state (highest priority via LIVRPS)

    def Xform "Session" (
        doc = "Current session state - mutable at runtime"
    )
    {
        string session_id = "template"
        int questions_answered = 0
        float completion = 0.0
        string checksum = "00000000"
        string current_scene = "none"

        # Active cognitive mode
        # Maps to VariantSets in full substrate
        string active_mode = "calibrating"
    }

    # === ANSWERS LAYER ===
    # Raw answer data for audit trail

    def Xform "Answers" (
        doc = "Individual question responses"
    )
    {
        # Template placeholders
        # Real answers filled during questionnaire

        def Xform "load"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }

        def Xform "ground"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }

        def Xform "leash"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }

        def Xform "lost"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }

        def Xform "wrong"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }

        def Xform "fog"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }

        def Xform "silence"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }

        def Xform "wander"
        {
            int option_index = -1
            string value = ""
            float response_time = 0.0
        }
    }

    # === VISUAL MAPPINGS ===
    # How profile affects visual representation in UE5

    def Xform "VisualMappings" (
        doc = "Suggested visual interpretations for game systems"
    )
    {
        # These are suggestions for the UE5 game to interpret
        # Not authoritative - game can map differently

        # cognitive_density → scene complexity
        # high = dense forests, many elements
        # low = sparse, minimalist
        string complexity_mapping = "cognitive_density"

        # home_altitude → camera/perspective
        # high = aerial views, zoomed out
        # low = ground level, close up
        string altitude_mapping = "home_altitude"

        # uncertainty_tolerance → fog/clarity
        # high = comfortable with fog effects
        # low = clear, sharp visuals
        string fog_mapping = "uncertainty_tolerance"

        # tangent_tolerance → path branching
        # high = many visible side paths
        # low = single clear path forward
        string branching_mapping = "tangent_tolerance"
    }
}
